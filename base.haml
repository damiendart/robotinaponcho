// Base page Haml source for Damien Dart's personal website.
//
// Copyright (C) 2013-2018 Damien Dart, <damiendart@pobox.com>.
// This file is distributed under the MIT licence. For more information,
// please refer to the accompanying "LICENCE" file.

!!! 5
%html{:lang => "en", :prefix => no_social ? nil : "og: http://ogp.me/ns#"}
  %head
    %meta{:charset => "utf-8"}
    - css_external.each do |i|
      %link{:href => i, :rel => "stylesheet"}
    - if not no_social
      %meta{:content => "Damien Dart", :name => "author"}
      %meta{:content => description, "name" => "description"}
      %meta{:content => "Damien Dart", :name => "og:author"}
      %meta{:content => description, "property" => "og:description"}
      %meta{:content => "#{url_base}#{social_image}", :property => "og:image"}
      %meta{:content => "#{title} (www.robotinaponcho.net)", :property => "og:title"}
      %meta{:content => "website", :property => "og:type"}
      %meta{:content => url, :property => "og:url"}
      %meta{:content => "@damiendart", :name => "twitter:creator"}
    %meta{:content => "initial-scale=1.0, maximum-scale=1.0, width=device-width", "name" => "viewport"}
    - if (javascript.any? or javascript_external.any?)
      %script document.documentElement.className += "javascript";
    - scss.each do |i|
      :autoprefixscss
        #{File.read(i)}
    %title #{title} (www.robotinaponcho.net)
  %body
    :haml
      #{content}
    - javascript_external.each do |i|
      %script{:async => true, :src => i}
    - javascript.each do |i|
      %script= File.read(i)
