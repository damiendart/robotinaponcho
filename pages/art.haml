-#
  ---
  file_comment: |
    "art.haml" for Damien Dart's personal website.

    Copyright (C) 2013-2018 Damien Dart, <damiendart@pobox.com>.
    This file is distributed under the MIT licence. For more
    information, please refer to the accompanying "LICENCE" file.
  layout: base
  output_file: art/index.html
  page_description: View Damien Dart's artwork and illustrations.
  page_scss: art.scss
  page_slug: "art/"
  page_title: Damien Dart's Art
  ---


- require "open-uri"
- require "json"
- instagram = JSON.load(open("https://www.instagram.com/damiendart/?__a=1"))


%h1.title Damien's Art
%p.blurb Until I get round to setting up an actual gallery, here is some stuff I've posted on <a href="https://instagram.com/damiendart">Instagram</a> and <a href="https://twitter.com/damiendart">Twitter</a>.
.gallery
  - instagram["user"]["media"]["nodes"].each do |item|
    %article.gallery__item
      %img.gallery__item__image{:alt => item["caption"], :src => item["display_src"], :title => item["caption"]}
      %a.gallery__item__link{:href => "https://www.instagram.com/p/#{item['code']}"} <span>View on Instagram</span><img class="gallery__item__link__icon" src="/assets/instagram.svg">
%footer.footer
  %hr.footer__rule
  %a.footer__link{:href => "https://www.robotinaponcho.net/"} www.robotinaponcho.net
