-#
  ---
  file_comment: |
    "art.haml" for Damien Dart's personal website.

    Copyright (C) 2013-2018 Damien Dart, <damiendart@pobox.com>.
    This file is distributed under the MIT licence. For more
    information, please refer to the accompanying "LICENCE" file.
  description: View Damien Dart's artwork and illustrations.
  scss: pages/art/index.scss
  title: Damien Dart's Art
  ---


- require "open-uri"
- require "json"
- instagram = JSON.load(open("https://www.instagram.com/damiendart/?__a=1"))
- keywords = %w(art doodle drawing doodle illustration watercolour)


%h1.title Damien's Art
%p.blurb Until I get round to setting up an actual gallery, here is some stuff I've posted on <a href="https://instagram.com/damiendart">Instagram</a>.
.gallery
  - instagram["user"]["media"]["nodes"].select{ |i| keywords.any?{ |s| i["caption"].include?(s) } }.take(12).each do |item|
    %article.gallery__item
      %a.gallery__item__link{:href => "https://www.instagram.com/p/#{item['code']}"}
        %img.gallery__item__image{:alt => item["caption"], :src => item["display_src"], :title => item["caption"]}
%footer.footer
  %hr.footer__rule
  %a.footer__link{:href => "https://www.robotinaponcho.net/"} www.robotinaponcho.net
