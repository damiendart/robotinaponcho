-# Folder of Crap Haml markup for Damien Dart's personal website.
-#
-# Copyright (C) 2013, 2014 Damien Dart, <damiendart@pobox.com>.
-# This file is distributed under the MIT licence. For more information,
-# please refer to the accompanying "LICENCE" file.

!!! 5
%html{:lang => "en"}
  %head
    %meta{:content => "text/html; charset=utf-8", :"http-equiv" => "Content-Type"}
    %meta{:content => "follow, noindex", :name => "robots"}
    %meta{:content => "initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width", "name" => "viewport"}
    %title Damien Dart's Folder of Crap
    :scss
      #{File.read(File.join(File.dirname(__FILE__), "site", "crap", "_index.scss"))}
    %script{:src => "/assets/jquery-1.10.1.min.js", :type => "text/javascript"}
    %script{:src => "/assets/moment.min.js", :type => "text/javascript"}
    %script{:src => "//use.typekit.net/mnw2jkv.js", :type => "text/javascript"}
    :javascript
      try{Typekit.load();}catch(e){}
  %body
    .container
      %h1.page-header The Folder of Crap
      .blurb
        :markdown
          This is a collection of random bits and pieces that I can't be bothered finding a proper home for, so don't expect much.
      .file-list
        %table
          %thead
            %tr
              %th<> Filename
              %th<> Modification Date
              %th<> Size
          %tbody
            / TMPL_LOOP NAME="directory_list"
            %tr
              %td<>
                %a{:href => "<TMPL_VAR NAME=\"uri\">"} <TMPL_VAR NAME="filename">
              %td<> <TMPL_VAR NAME="modification_date">
              %td<> <TMPL_VAR NAME="size">
            / /TMPL_LOOP
    :javascript
      #{File.read(File.join(File.dirname(__FILE__), "site", "crap", "_index.js"))}
