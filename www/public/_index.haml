-# Homepage Haml markup for Damien Dart's personal website.
-#
-# Copyright (C) 2013-2015 Damien Dart, <damiendart@pobox.com>.
-# This file is distributed under the MIT licence. For more information,
-# please refer to the accompanying "LICENCE" file.

- require "yaml"
- data = YAML.load(File.read(File.join(File.dirname(__FILE__), "public", "_index.yaml")))

!!! 5
%html{:lang => "en"}
  %head
    %meta{:content => "text/html; charset=utf-8", :"http-equiv" => "Content-Type"}
    %meta{:content => "initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width", "name" => "viewport"}
    %title Damien Dart's Personal Site (www.robotinaponcho.net)
    :scss
      #{File.read(File.join(File.dirname(__FILE__), "public", "_index.scss"))}
    %script{:src => "//use.typekit.net/zkk4eyh.js"}
    %script try{Typekit.load();}catch(e){}
  %body
    %header.site-header
      .site-header__container
        %h1.site-header__container__title.tk-adelle <b>Hello! I'm Damien Dart.</b> I occasionally make things:
    .page-body
      %ul.projects
        - data["projects"].each do |project|
          %li.projects__project>
            %img.projects__project__image{:src => "#{project['image']}"}
            .projects__project__description
              %h3.projects__project__description__title.tk-adelle
                = project["title"]
              %p.projects__project__description__text
                = project["description"]
